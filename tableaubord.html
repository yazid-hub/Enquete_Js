<!DOCTYPE html>
<html>
<head>
	<title></title>
  <meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" type="text/css" href="style2.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script> 
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>  
</head>
<body>
  <header>
            <nav>
                <ul>
                    <li ><a id="bouton_envoi" href="index.html">ACCUEIL</a></li>
                    <li ><a id="bouton_envoi" href="#">MENU</a></li>
                    <li><a  href="#"><img id="logo" src="logo.png" alt="logo"/></a></li>
                    <li><a id="bouton_envoi" href="#">GALERIE</a></li>
                    <li><a id="bouton_envoi" href="#">CONTACT</a></li>
                </ul>
            </nav>
        </header>

<div id="title" style="font-weight: bold; font-size: 50px;">Tableau de bords</div>



     
<br>
      <div class="chart_container2" id="chart2">
          <canvas id="myChart2"></canvas>
      </div>
<script>
  
function makeChart2(Participants) {
  // Participants is an array of objects where each object is something like:
  // {
  //   "Name": "Steffi Graf",
  //   "ages": "377",
  //   "Gender": "Female"
  // }
  var ParticipantLabels = Participants.map(function(d) {return d._nom});
  var moyenneData = Participants.map(function(d) {return +d.moyenne});
  var ParticipantColors = Participants.map(function(d) {return d.genre === 'Female' ? '#F15F36' : '#19A0AA';});

  var chart = new Chart('myChart2', {
    type: 'line',
    options: {
      maintainAspectRatio: false,
      legend: {
        display: true
      },
      scales: {
        xAxes: [
          {
               
            
        
                scaleLabel: {
              display: true,
              labelString: 'La moyenne Par Personne et par genre' ,
              fontSize: 40
            }
          }
        ]
      }
    },
    data: {
      labels: ParticipantLabels,
      datasets: [
        {
          data: moyenneData,
          backgroundColor: ParticipantColors
        }
      ]
    }
  })
}

// Request data using D3
d3.csv("http://localhost/formulaire_js/formulaireJs/atp_wta.csv")
  .then(makeChart2);
</script>


<div id="legend">
  <div class="item female">Women</div>
  <div class="item male">Men</div>
</div>
<div class="allGraph">
<div id="chart-wrapper">
  <canvas id="chart" style="width: 400px;height: 200px;"></canvas>
</div>

<script type="text/javascript">
  Chart.defaults.global.defaultFontFamily = 'Roboto';
Chart.defaults.global.defaultFontColor = '#333';

function makeChart(Participants) {
  // Participants is an array of objects where each object is something like:
  // {
  //   "Name": "Steffi Graf",
  //   "ages": "377",
  //   "Gender": "Female"
  // }

  var ParticipantLabels = Participants.map(function(d) {return d._nom});
  var agesData = Participants.map(function(d) {return +d.age});
  var ParticipantColors = Participants.map(function(d) {return d.genre === 'Female' ? '#F15F36' : '#19A0AA';});

  var chart = new Chart('chart', {
    type: 'horizontalBar',
    options: {
      maintainAspectRatio: false,
      legend: {
        display: true
      },
      scales: {
        xAxes: [
          {
            scaleLabel: {
              display: true,
              labelString: 'Age et genrs des participants' ,
              fontSize: 40
            }
          }
        ]
      }
    },
    data: {
      labels: ParticipantLabels,
      datasets: [
        {
          data: agesData,
          backgroundColor: ParticipantColors
        }
      ]
    }
  })
}

// Request data using D3
d3.csv("http://localhost/formulaire_js/formulaireJs/atp_wta.csv")
  .then(makeChart);
</script>


</body>
</html>